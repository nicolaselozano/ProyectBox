(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[726],{8925:function(e,t,n){Promise.resolve().then(n.bind(n,1651))},1651:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(3827),o=n(7908),a=n(8021);let l=()=>{let e=localStorage.getItem("user");if(e)return JSON.parse(e)},s=async()=>{try{var e;let t=localStorage.getItem("token"),n=localStorage.getItem("rtoken"),r=null===(e=l())||void 0===e?void 0:e.id,s=await o.Z.get("".concat(a.QP,"/Review/userLikes?userId=").concat(r),{headers:{"Refresh-Token":"".concat(n),Authorization:"Bearer ".concat(t)}});return console.log(s.data),s.data}catch(e){i(e),console.log("Error en getUserFavs",e)}},c=async e=>{try{console.log(e);let t=localStorage.getItem("token"),n=localStorage.getItem("rtoken"),r=await o.Z.put("".concat(a.QP,"/User"),e,{headers:{"Refresh-Token":"".concat(n),Authorization:"Bearer ".concat(t)}});return console.log(r.data),e}catch(e){console.error("Bad request: "+e.response.data)}},i=e=>{console.error("Hubo un error ".concat(e.state," : ").concat(e.context))};var d=n(4090),u=n(5076),m=n.n(u),f=n(9777),h=n.n(f),x=()=>{let[e,t]=(0,d.useState)({email:"",id:"",name:""});(0,d.useEffect)(()=>{},[]);let n=async t=>{t.preventDefault();try{await c(e),alert("se hicieron los cambios")}catch(e){console.error("hubo un error",e)}},o=n=>{let{name:r,value:o}=n.target;t({...e,[r]:o})};return(0,r.jsxs)("form",{onSubmit:n,action:"",className:"flex flex-col items-center",children:[(0,r.jsxs)("fieldset",{className:"".concat(h().container__fieldset," border rounded-lg"),children:[(0,r.jsx)("legend",{className:"font-bold",children:"Edita tus datos"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-violet-300 m-2",children:"Nombre"}),(0,r.jsx)("input",{className:"border border-violet-300 rounded px-2 py-1 m-2 focus:outline-none focus:border-violet-500",name:"name",id:"name",type:"text",onChange:o})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-violet-300 m-2",children:"Email"}),(0,r.jsx)("input",{className:"border border-violet-300 rounded px-2 py-1 m-2 focus:outline-none focus:border-violet-500",name:"email",id:"email",type:"email",onChange:o})]})]}),(0,r.jsx)("button",{className:"border-2 border-cards_border hover:bg-general_bg active:bg-general_bg text-white font-bold py-2 px-4 rounded mt-2",type:"submit",children:"Save"})]})},g=()=>{let[e,t]=(0,d.useState)(null),[n,o]=(0,d.useState)(null),[a,c]=(0,d.useState)(null);return(0,d.useEffect)(()=>{t(l()),(async()=>{var e;let t=await s();c(null===(e=l())||void 0===e?void 0:e.rol),o(t)})()},[]),(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center text-center",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("h1",{children:["Bienvenido ",(null==e?void 0:e.name)?null==e?void 0:e.name:"loading..."]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("fieldset",{className:"border rounded-lg",children:[(0,r.jsx)("legend",{children:"Tus favoritos"}),(null==n?void 0:n.proyects)?n.proyects.map((e,t)=>(0,r.jsxs)("div",{className:"bg-cards_bg rounded-md p-2 m-2",children:[(0,r.jsx)("h1",{children:null==e?void 0:e.name}),(0,r.jsxs)("h1",{children:["Rol : ",null==e?void 0:e.role]})]},t)):(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Loading..."}),(0,r.jsx)("div",{className:"".concat(m().container__loader," bg-general_bg")}),(0,r.jsx)("div",{className:"".concat(m().container__loader," bg-general_bg")}),(0,r.jsx)("div",{className:"".concat(m().container__loader," bg-general_bg")})]})]})}),(0,r.jsx)("div",{children:(0,r.jsx)(x,{})})]})},v=()=>(0,r.jsx)("div",{children:(0,r.jsx)(g,{})})},8021:function(e,t,n){"use strict";n.d(t,{Cx:function(){return l},He:function(){return c},IC:function(){return a},QP:function(){return i},u8:function(){return r},yK:function(){return o},yO:function(){return s}});let r="https://PORTAFOLIO_API.com",o="dev-v2roygalmy6qyix2.us.auth0.com",a="offline_access",l="FiGgFZqBNRTXMtroNlRxerrS9FEwWca8",s="code",c="http://localhost:3000",i="https://proyectbox.onrender.com/api"},9777:function(e){e.exports={container__fieldset:"UserForm_container__fieldset___EaUN"}},5076:function(e){e.exports={container__loader:"UserProfile_container__loader__5ZsuV",fade:"UserProfile_fade__hfcm7"}}},function(e){e.O(0,[908,971,69,744],function(){return e(e.s=8925)}),_N_E=e.O()}]);